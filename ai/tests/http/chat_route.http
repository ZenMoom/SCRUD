###############################################
# 다이어그램 관련 API 테스트
###############################################

@baseUrl = http://localhost:8080
@projectId = 1
@apiId = 3003

### 프롬프트 채팅 요청 테스트
POST {{baseUrl}}/api/v1/projects/{{projectId}}/apis/{{apiId}}/chats
Authorization: Bearer Admin
Content-Type: application/json

{
  "tag": "REFACTORING",
  "promptType": "BODY",
  "message": "선택한 메서드를 리팩토링",
  "targetMethods": [
    {
      "methodId": "d1f3c8b2-4c3e-4b8b-8c3e-1b2c3d4e5f6g"
    }
  ]
}

> {%
    client.global.set("streamId", response.body.streamId);
%}

### SSE 연결 테스트 (브라우저에서 테스트하는 것이 좋음)
GET {{baseUrl}}/api/v1/sse/connect/{{streamId}}

### SSE 연결 테스트 (브라우저에서 테스트하는 것이 좋음)
GET {{baseUrl}}/api/v1/sse/stream/{{streamId}}

###
GET {{baseUrl}}/api/v1/projects/{{projectId}}/apis/{{apiId}}/chats

###
GET http://localhost:8080/api/v1/projects/1
Authorization: Bearer Admin

###
GET {{baseUrl}}/api/v1/api-specs/2001
